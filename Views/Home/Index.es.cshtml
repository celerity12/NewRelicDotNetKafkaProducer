@{
    ViewData["Title"] = "Página Principal";
}

<div class="text-center">
    <h1 class="display-4">Bienvenido</h1>

    <div id="loading" class="loading-bar">
        Cargando... Por favor, espere.
        <div class="progress-bar">
            <div class="progress"></div>
        </div>
    </div>

    <div id="content" style="display:none;">
        <p>Su número de la suerte es:</p>
        <p id="luckyNumber"></p>
        <p>Tiempo de espera: <span id="delay"></span> milisegundos</p>
        <p>Resultado del cálculo: <span id="calculationResult"></span></p>
    </div>
</div>

<style>
    .loading-bar {
        font-size: 18px;
        margin-bottom: 20px;
    }

    .progress-bar {
        width: 100%;
        height: 20px;
        background-color: #f3f3f3;
        border: 1px solid #ccc;
        margin-top: 5px;
    }

    .progress {
        height: 100%;
        width: 0%;
        background-color: #4caf50;
        animation: progressAnimation 2s infinite linear; /* Optional: Animate the progress bar */
    }

    @@keyframes progressAnimation {
        0% {
            width: 0%;
        }

        100% {
            width: 100%;
        }
    }
</style>

<script>
    window.onload = function() {
        // Simulate the delay (already in your code, but important for context)
        var delay = @ViewBag.Delay;
        document.getElementById('delay').textContent = delay;

        setTimeout(function() {
            document.getElementById('luckyNumber').textContent = @ViewBag.LuckyNumber;
            document.getElementById('calculationResult').textContent = @ViewBag.CalculationResult;

            // Hide the loading bar and show the content
            document.getElementById('loading').style.display = 'none';
            document.getElementById('content').style.display = 'block';

        }, delay);
    };
</script>